<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.302">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paweł Czyż">
<meta name="dcterms.date" content="2023-07-08">
<meta name="description" content="I learned from one of my mentors that it’s important to discuss the mutual expectations of the mentorship, be it a PhD thesis or a lab rotation. This document serves as a template, which we can further discuss and adjust.">

<title>Paweł Czyż - Student mentorship: expectations document</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Paweł Czyż</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html" rel="" target="">
 <span class="menu-text">Blog</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#mission-statement" id="toc-mission-statement" class="nav-link active" data-scroll-target="#mission-statement">Mission statement</a></li>
  <li><a href="#expectations" id="toc-expectations" class="nav-link" data-scroll-target="#expectations">Expectations</a>
  <ul class="collapse">
  <li><a href="#what-you-can-expect-from-me" id="toc-what-you-can-expect-from-me" class="nav-link" data-scroll-target="#what-you-can-expect-from-me">What you can expect from me</a></li>
  <li><a href="#what-id-like-to-expect-from-you" id="toc-what-id-like-to-expect-from-you" class="nav-link" data-scroll-target="#what-id-like-to-expect-from-you">What I’d like to expect from you</a></li>
  <li><a href="#conflict-resolution" id="toc-conflict-resolution" class="nav-link" data-scroll-target="#conflict-resolution">Conflict resolution</a></li>
  <li><a href="#misc" id="toc-misc" class="nav-link" data-scroll-target="#misc">Misc</a></li>
  </ul></li>
  <li><a href="#general-research-advice" id="toc-general-research-advice" class="nav-link" data-scroll-target="#general-research-advice">General research advice</a>
  <ul class="collapse">
  <li><a href="#research-notes-and-journal" id="toc-research-notes-and-journal" class="nav-link" data-scroll-target="#research-notes-and-journal">Research notes and journal</a></li>
  <li><a href="#reading-scientific-literature" id="toc-reading-scientific-literature" class="nav-link" data-scroll-target="#reading-scientific-literature">Reading scientific literature</a></li>
  <li><a href="#finding-a-sustainable-working-style" id="toc-finding-a-sustainable-working-style" class="nav-link" data-scroll-target="#finding-a-sustainable-working-style">Finding a sustainable working style</a></li>
  <li><a href="#programming" id="toc-programming" class="nav-link" data-scroll-target="#programming">Programming</a></li>
  <li><a href="#misc-1" id="toc-misc-1" class="nav-link" data-scroll-target="#misc-1">Misc</a></li>
  </ul></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Student mentorship: expectations document</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Mentorship</div>
  </div>
  </div>

<div>
  <div class="description">
    I learned from one of my mentors that it’s important to discuss the mutual expectations of the mentorship, be it a PhD thesis or a lab rotation. This document serves as a template, which we can further discuss and adjust.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paweł Czyż </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 8, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>Welcome! This document is supposed to explain my general mentoring style and act as a skeleton around we can build the collaboration and mentorship rules.</p>
<p>Please, note:</p>
<ul>
<li>The ETH rules and regulations supersede anything in this document. In case of any conflict, follow them rather than this document (I’d be also grateful to learn about them and adjust this document).</li>
<li>This document can be adjusted to your needs. Let me know what you think does not work for you and we can adjust it to reach a consensus. We need to find a way to work together so that everybody is happy.</li>
<li>I will suggest various things related to learning new things and doing research. Let me know what you think (e.g., what works, what does not, what good alternatives exist) – I’m happy to learn and update this document!</li>
</ul>
<section id="mission-statement" class="level2">
<h2 class="anchored" data-anchor-id="mission-statement">Mission statement</h2>
<p>When I advise on a project I try to keep the following in mind:</p>
<ul>
<li>I want you to learn and become a better researcher and engineer at the end of the project.</li>
<li>It’s more important that we understand each other and are happy with the mentorship, rather than we get an additional feature.</li>
</ul>
</section>
<section id="expectations" class="level2">
<h2 class="anchored" data-anchor-id="expectations">Expectations</h2>
<section id="what-you-can-expect-from-me" class="level3">
<h3 class="anchored" data-anchor-id="what-you-can-expect-from-me">What you can expect from me</h3>
<ul>
<li>I’ll find regular time to meet with you and advise on the steps which may be worth taking. While I will be more “hands-on” and have more precise ideas when you start, I want you to become an independent thinker with a good knowledge on the topic – it’s also likely that you’ll know more about the topic than me by the end of your project!</li>
<li>I’ll advise you on your code and writing, to make sure that your skills improve.<br>
</li>
<li>I’ll keep an open mindset to your comments and suggestions. If you encounter any issues, let me know and we’ll work together on resolving them.</li>
</ul>
</section>
<section id="what-id-like-to-expect-from-you" class="level3">
<h3 class="anchored" data-anchor-id="what-id-like-to-expect-from-you">What I’d like to expect from you</h3>
<ul>
<li>Honesty. If something doesn’t work for you (e.g., the expectations and the workload are too high), I said something ridiculously wrong, or the experiments fail, let’s discuss. I’m still learning both how to be a good mentor and a good scientist.</li>
<li>Conforming to use good research and coding practices. We will work on open-source projects and I expect you to write good code (with documentation and tests) and run reproducible experiments. Developing these skills takes time and we will work together to make sure that your research and programming skills are improving.</li>
<li>Taking the ownership of conforming to the university rules. You should remind me when your thesis is due three months before submitting it, so we can discuss the outline, and send me the first draft three weeks before the deadline, so I can review it.</li>
</ul>
</section>
<section id="conflict-resolution" class="level3">
<h3 class="anchored" data-anchor-id="conflict-resolution">Conflict resolution</h3>
<p>In case of a conflict with an academic or a student, please contact me and we will work together to resolve the conflict. If you feel that you do not want me to be involved (e.g., the conflict is between you and me), I encourage you to contact my mentor, Professor Niko Beerenwinkel or <a href="https://ethz.ch/en/the-eth-zurich/organisation/ombudspersons-and-trusted-intermediaries.html">ETH’s Ombudspersons</a>.</p>
</section>
<section id="misc" class="level3">
<h3 class="anchored" data-anchor-id="misc">Misc</h3>
<p>I’m not an established researcher in the field (and I don’t have a PhD!). Apart from the fact that I may be wrong in different aspects (happy to learn!), the reference letters written by me are unlikely to be accepted e.g., if you apply for a PhD. If you need a reference letter at the end of the project, I’d suggest to ask Professor Niko Beerenwinkel (and CC me) whether he could provide one.</p>
</section>
</section>
<section id="general-research-advice" class="level2">
<h2 class="anchored" data-anchor-id="general-research-advice">General research advice</h2>
<p>Although I will supply you with an initial reading list tailored to your project, I’d like to share below some general advice on research, knowledge work, and learning. (Remember – if you see that some of these do not work you, feel free to replace them with better practices. I’d also be grateful if you could share them with me, so I can update this document).</p>
<section id="research-notes-and-journal" class="level3">
<h3 class="anchored" data-anchor-id="research-notes-and-journal">Research notes and journal</h3>
<p>I’d strongly encourage you to book some time at the start and the end of every working day to work on your research notes and write your observations in a journal.</p>
<p>This serves multple purposes: - I believe it will help you to improve your understanding of the domain. - At some point you will need to write your thesis. You will see that it is much easier to edit a series of connected research notes into a first draft, rather than starting with an empty page. - By practicing this over the duration of the project, you will end up with a skill which is useful regardless whether you decide to move into industry or stay in academia.</p>
<p>To start writing research notes, read <a href="https://notes.andymatuschak.org/Evergreen_notes">an Andy Matuschak’s note</a> or watch <a href="https://youtu.be/ziE6UExsOrs">Martin Adams’ video</a>. Popular software includes <a href="https://obsidian.md">Obsidian</a> and <a href="https://www.zettlr.com/">Zettlr</a> (and you can use them for the journal as well).</p>
<p>For your research journal, you may find <a href="https://anujacabraal.com/2013/07/03/keep-a-research-journal-it-is-important/">this blog post</a> useful. Journal can also be helpful to track your feelings and attitude towards the project, so we can adjust the workload or troubleshoot the process – see <a href="https://ahappyphd.org/posts/journaling-tips/">this post</a>.</p>
</section>
<section id="reading-scientific-literature" class="level3">
<h3 class="anchored" data-anchor-id="reading-scientific-literature">Reading scientific literature</h3>
<ul>
<li>I’d suggest to read <a href="https://notes.andymatuschak.org/Skillful_reading_is_generally_non-linear">this Andy Matuschak’s note</a> and <a href="https://pne.people.si.umich.edu/PDF/howtoread.pdf">this short P.N. Edwards’ article</a>.</li>
<li>This is also a skill which takes time to master, so I’d suggest to practice it regularly and go back and refresh the principles of effective reading.</li>
<li>You will see that there is always too much literature to read than the time permits, so it’s critical to think what you want to learn from a paper.
<ul>
<li>Are there specific questions I want to have the answer to by reading this paper? (It’s always good to read papers with several questions in mind.)</li>
<li>Is this some maths or statistics which is crucial to deeply understand for the project? If so, several hours may be required and there is nothing to be done.</li>
<li>Is this a paper which main conclusion can be quickly understood just by looking at one figure and the abstract or conclusions?</li>
<li>Is this a paper which is potentially useful if problem X arises? If so, it’s probably good to say in a research problem on topic X that this paper may be useful to deeply understand it then.</li>
</ul></li>
<li>I like to use <a href="https://www.connectedpapers.com/">Connected Papers</a> to find papers related to the paper of interest. Another strategy is to use <a href="https://scholar.google.com/">Google Scholar</a> to find papers which cited the paper of interest or see what the superstars are doing.</li>
<li>Speaking of superstars, Twitter has become a place where new research results are often announced and have short “tl;dr” threads. I would suggest to create a recurrent task (e.g., half an hour every two weeks) and check what the superstars have been doing. (Note that the temptation to procrastinate can be huge. This is why I recommend to set only a specific time to check it.)</li>
</ul>
</section>
<section id="finding-a-sustainable-working-style" class="level3">
<h3 class="anchored" data-anchor-id="finding-a-sustainable-working-style">Finding a sustainable working style</h3>
<ul>
<li>As <a href="https://bastian.rieck.me/blog/posts/2022/sustainable/">Bastian Rieck advises</a>, it’s crucial that you find a sustainable workflow. Working on a project over a few months is a long time and “it’s rather a marathon than a sprint”.</li>
<li>I’m interested in seeing that your expertise grows and that work you produce is of good quality, rather than in counting the hours you put into the work:
<ul>
<li>If you think that my expectations are unrealistic, just talk to me – we don’t need to rush and the scope of the thesis can always be adjusted to be more realistic.</li>
<li>Make sure that you prioritize your mental health and well-being.</li>
<li>Please, please, please, no work on weekends and holidays.</li>
</ul></li>
<li>You will see that different people have different working styles. This is fine – they are also working on different projects, have different backgrounds, and have different goals. Don’t compare yourself with them and embrace your way of working as well as theirs.</li>
</ul>
</section>
<section id="programming" class="level3">
<h3 class="anchored" data-anchor-id="programming">Programming</h3>
<ul>
<li>We will use Git version control and <a href="https://github.com/">GitHub</a>. Please, make sure that you have an account and send me your username, so I can add you to the project.</li>
<li>If you had not worked with Git before, I recommend (a) Creating a “sandbox” repository and playing with different commands. <a href="https://rogerdudler.github.io/git-guide/">R. Dudler’s “The simple guide”</a> is a nice way to get started.</li>
<li>Learning good software practices is like learning a new language – working with a dictionary won’t make one proficient in one day, but using it regularly can help to avoid common errors. I recommend <a href="https://google.github.io/styleguide/pyguide.html">Google Style Guide</a> and (to know what should be avoided) <a href="https://docs.quantifiedcode.com/python-anti-patterns/">Python anti-patterns</a>.</li>
</ul>
</section>
<section id="misc-1" class="level3">
<h3 class="anchored" data-anchor-id="misc-1">Misc</h3>
<ul>
<li>If you want to become a researcher, <a href="https://www.cs.virginia.edu/~robins/YouAndYourResearch.html">R. Hamming’s “You and your research” talk</a> is a classic.</li>
<li><a href="https://kidger.site/thoughts/just-know-stuff/">Patrick Kidger</a> and <a href="http://karpathy.github.io/2016/09/07/phd/">Andrej Karpathy</a> also wrote on this topic.</li>
</ul>
</section>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<p>I used the following resources to draft the document above. However, all the mistakes (scientific, mentoring, grammar) are to blame on myself.</p>
<ul>
<li><a href="https://doi.org/10.1371/journal.pcbi.1005709">K.S. Masters and P.K. Kreeger’s “Ten Simple Rules” article</a></li>
<li><a href="http://yingzhenli.net/home/en/?page_id=1083">Yinghzhen Li’s blogpost</a></li>
<li>The document issued by Niko Beerenwinkel to his PhD students.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>